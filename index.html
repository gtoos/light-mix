<!DOCTYPE HTML>
<html>
	<head>
		<link type="text/css" rel="stylesheet" href="resources/css/default.css" />
		<link type="text/css" rel="stylesheet" href="resources/css/range-input-skin.css" />
		<script src="vendors/jquery/jquery-1.11.1.min.js"></script> 
		<script src="vendors/rangeslider.js-0.2.9/rangeslider.min.js"></script>
		<script src="vendors/jquery/jquery.tools.min.js"></script>
		<script src="resources/js/library.js"></script>

	</head> 
	<body>
	    <h1>Light theesko</h1>
	    <div class="outer-wrapper">
		    <div id="lightSourceWrapper" width="900" height="600">
			    <div id="redSource" class="light-source-red">
					<input type="range" class="slider" id="red-slider" name="redSlider" min="0" max="100" value="10" />
			    </div>
			    <div id="blueSource" class="light-source-blue"> 
					<input type="range" class="slider" id="blue-slider" name="blueSlider" min="0" max="100" value="10" />
			    </div>
			    <div id="greenSource" class="light-source-green"> 
					<input type="range" class="slider" id="green-slider" name="greenSlider" min="0" max="100" value="10" />
			    </div>
			</div>
		    <canvas id="lightCanvas" width="920" height="600"></canvas>
	    </div>

	    <script>
			var canvas = document.getElementById('lightCanvas');
			var canvasContext = canvas.getContext('2d');

			//initializing canvas
			initCanvas("lightCanvas", "black", "0.5");

			//initializing sliders
			$(":range").rangeinput();

			//initialize level	
			var currentLevel = 0;
			var finalLevel = 5;

			initLevel(currentLevel);

	      	// Handling slider event
	      	$(".slider").on("change", 
		      	function() { 
		      		draw();
		      		if(isLevelComplete(currentLevel)) { 
		      			levelCleanUp();
		      			currentLevel++;

		      			//Checking if final
		      			if(currentLevel < finalLevel) {
		      				initLevel(currentLevel);
		      			} else {
		      				console.log("game over");
		      				alert("Game over");
			      			currentLevel = 1;
		      			}

		      		} else {
		      			console.log("Keep trying");
		      		} 
		    });

		    // Handling exit event

		</script>
	</body>
</html>